% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/cytetype.R
\name{CyteTypeR}
\alias{CyteTypeR}
\title{Submit CyteType Analysis Job}
\usage{
CyteTypeR(
  obj,
  prepped_data,
  study_context = NULL,
  llm_configs = NULL,
  metadata = NULL,
  results_prefix = "cytetype",
  poll_interval_seconds = 30,
  timeout_seconds = 1200,
  api_url = NULL,
  save_query = TRUE,
  query_filename = "query.json",
  auth_token = NULL,
  show_progress = TRUE
)
}
\arguments{
\item{obj}{A Seurat object (will be returned with annotations added).}

\item{prepped_data}{Named list containing prepared data from \code{PrepareCyteTypeR()}.}

\item{study_context}{Optional character string providing background information
about the study for better annotation context. Default is \code{NULL}.}

\item{llm_configs}{Optional list of LLM configuration objects specifying
which models to use. If \code{NULL}, uses default models. Default is \code{NULL}.}

\item{metadata}{Optional named list containing additional study metadata
(e.g., DOI, GEO accession). Default is \code{NULL}.}

\item{results_prefix}{Character string prefix for result filenames.
Default is "cytetype".}

\item{poll_interval_seconds}{Integer specifying how often to check job status
(in seconds). Default is 30.}

\item{timeout_seconds}{Integer specifying maximum wait time for job completion
(in seconds). Default is 1200 (20 minutes).}

\item{api_url}{Optional character string specifying custom API URL.
If \code{NULL}, uses default URL. Default is \code{NULL}.}

\item{save_query}{Logical indicating whether to save the query as JSON file.
Default is \code{TRUE}.}

\item{query_filename}{Character string specifying filename for saved query.
Default is "query.json".}

\item{auth_token}{Optional authentication token for API access.
Default is \code{NULL}.}

\item{show_progress}{Logical indicating whether to display progress updates
during job execution. Default is \code{TRUE}.}
}
\value{
The input Seurat object with added \code{cytetype_annotations} metadata
containing the automated cell type predictions.
}
\description{
Submits a prepared dataset to CyteType for automated cell type annotation
using large language models. Handles job submission, polling for results,
and integration of annotations back into the Seurat object.
}
\details{
The function performs the following workflow:
\enumerate{
\item Constructs the analysis query from prepared data
\item Saves query and job details to local JSON files
\item Submits job to CyteType API
\item Polls for job completion with progress updates
\item Retrieves results and integrates annotations into Seurat object
}

Job details are automatically saved to \verb{job_details_\{job_id\}.json} for
later reference or manual result retrieval.
}
\examples{
\dontrun{
# Basic usage with prepared data
annotated_seurat <- CyteTypeR(
  obj = seurat_obj,
  prepped_data = prepped_data,
  study_context = "Single-cell analysis of human brain tissue"
)

# With custom settings and metadata
annotated_seurat <- CyteTypeR(
  obj = seurat_obj,
  prepped_data = prepped_data,
  study_context = "Alzheimer's disease brain samples",
  metadata = list(
    "DOI" = "10.1038/example",
    "GEO_Accession" = "GSE123456"
  ),
  timeout_seconds = 1800,
  poll_interval_seconds = 60
)
}

}
\seealso{
\code{\link[=PrepareCyteTypeR]{PrepareCyteTypeR()}} for data preparation, \code{\link[=GetResults]{GetResults()}} for manual result retrieval
}
